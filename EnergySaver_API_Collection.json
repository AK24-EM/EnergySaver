{
    "info": {
        "name": "EnergySaver Pro API",
        "_postman_id": "energysaver-api-collection",
        "description": "Complete API collection for EnergySaver Smart Home Energy Manager",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://localhost:3001",
            "type": "string"
        },
        {
            "key": "token",
            "value": "",
            "type": "string"
        },
        {
            "key": "homeId",
            "value": "",
            "type": "string"
        },
        {
            "key": "deviceId",
            "value": "",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "Authentication",
            "item": [
                {
                    "name": "Register User",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('token', jsonData.token);",
                                    "    pm.collectionVariables.set('homeId', jsonData.user.home);",
                                    "}"
                                ]
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\",\n  \"homeData\": {\n    \"name\": \"Test Home\",\n    \"address\": \"123 Test Street\",\n    \"tariffRate\": 5.5\n  }\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/auth/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "auth",
                                "register"
                            ]
                        }
                    }
                },
                {
                    "name": "Login User",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('token', jsonData.token);",
                                    "    pm.collectionVariables.set('homeId', jsonData.user.home._id || jsonData.user.home);",
                                    "}"
                                ]
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "auth",
                                "login"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Current User",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/auth/me",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "auth",
                                "me"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Devices",
            "item": [
                {
                    "name": "Get All Devices",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/devices",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "devices"
                            ]
                        }
                    }
                },
                {
                    "name": "Create Device",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('deviceId', jsonData.device._id);",
                                    "}"
                                ]
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Living Room AC\",\n  \"category\": \"AC\",\n  \"ratedPower\": 1500,\n  \"location\": {\n    \"room\": \"Living Room\",\n    \"floor\": \"Ground\"\n  }\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/devices",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "devices"
                            ]
                        }
                    }
                },
                {
                    "name": "Update Device",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Living Room AC Updated\",\n  \"ratedPower\": 1600\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/devices/{{deviceId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "devices",
                                "{{deviceId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Toggle Device",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/devices/{{deviceId}}/toggle",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "devices",
                                "{{deviceId}}",
                                "toggle"
                            ]
                        }
                    }
                },
                {
                    "name": "Delete Device",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/devices/{{deviceId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "devices",
                                "{{deviceId}}"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Usage & Alerts",
            "item": [
                {
                    "name": "Get Usage Data - Daily",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/usage?period=daily",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "usage"
                            ],
                            "query": [
                                {
                                    "key": "period",
                                    "value": "daily"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get Usage Data - Weekly",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/usage?period=weekly",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "usage"
                            ],
                            "query": [
                                {
                                    "key": "period",
                                    "value": "weekly"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get All Alerts",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/alerts",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "alerts"
                            ]
                        }
                    }
                },
                {
                    "name": "Mark Alert as Read",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/alerts/:alertId",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "alerts",
                                ":alertId"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Reports",
            "item": [
                {
                    "name": "Get All Reports",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/reports",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "reports"
                            ]
                        }
                    }
                },
                {
                    "name": "Generate Daily Report",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"type\": \"daily\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/reports/generate",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "reports",
                                "generate"
                            ]
                        }
                    }
                },
                {
                    "name": "Generate Weekly Report",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"type\": \"weekly\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/reports/generate",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "reports",
                                "generate"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Specific Report",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/reports/:reportId",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "reports",
                                ":reportId"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Goals",
            "item": [
                {
                    "name": "Get All Goals",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/goals",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "goals"
                            ]
                        }
                    }
                },
                {
                    "name": "Create Goal",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Reduce Monthly Usage\",\n  \"targetValue\": 500,\n  \"targetType\": \"usage\",\n  \"period\": \"monthly\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/goals",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "goals"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Automation",
            "item": [
                {
                    "name": "Get Automation Rules",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/automation/rules",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "automation",
                                "rules"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Automation Modes",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/automation/modes",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "automation",
                                "modes"
                            ]
                        }
                    }
                },
                {
                    "name": "Activate Eco Mode",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/automation/modes/eco/activate",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "automation",
                                "modes",
                                "eco",
                                "activate"
                            ]
                        }
                    }
                },
                {
                    "name": "Create Automation Rule",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Turn off AC at night\",\n  \"trigger\": {\n    \"type\": \"time\",\n    \"value\": \"22:00\"\n  },\n  \"action\": {\n    \"type\": \"turn_off\",\n    \"deviceId\": \"{{deviceId}}\"\n  }\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/automation/rules",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "automation",
                                "rules"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Comparison",
            "item": [
                {
                    "name": "Get Comparison Insights",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/comparison/insights",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "comparison",
                                "insights"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Household Profile",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/comparison/profile",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "comparison",
                                "profile"
                            ]
                        }
                    }
                },
                {
                    "name": "Update Household Profile",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"size\": 4,\n  \"rooms\": 3,\n  \"climateZone\": \"tropical\",\n  \"homeType\": \"apartment\",\n  \"hasAC\": true,\n  \"hasSolar\": false\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/comparison/profile",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "comparison",
                                "profile"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Admin",
            "item": [
                {
                    "name": "Get Community Overview",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/admin/overview",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "admin",
                                "overview"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Community Analytics",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/admin/analytics?period=7d",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "admin",
                                "analytics"
                            ],
                            "query": [
                                {
                                    "key": "period",
                                    "value": "7d"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get Device Templates",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/admin/templates",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "admin",
                                "templates"
                            ]
                        }
                    }
                },
                {
                    "name": "Create Device Template",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Standard AC\",\n  \"category\": \"AC\",\n  \"ratedPower\": 1500,\n  \"icon\": \"wind\",\n  \"specifications\": {\n    \"energyRating\": \"3 Star\"\n  }\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/admin/templates",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "admin",
                                "templates"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Settings",
            "item": [
                {
                    "name": "Get User Settings",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/settings/profile",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "settings",
                                "profile"
                            ]
                        }
                    }
                },
                {
                    "name": "Update User Profile",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Updated Name\",\n  \"email\": \"newemail@example.com\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/settings/profile",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "settings",
                                "profile"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Export",
            "item": [
                {
                    "name": "Export Report as PDF",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"type\": \"daily\",\n  \"format\": \"pdf\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/export/report",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "export",
                                "report"
                            ]
                        }
                    }
                },
                {
                    "name": "Export Usage Data as Excel",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"period\": \"monthly\",\n  \"format\": \"excel\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/export/usage",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "export",
                                "usage"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Health Check",
            "item": [
                {
                    "name": "Server Health",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{baseUrl}}/health",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "health"
                            ]
                        }
                    }
                }
            ]
        }
    ]
}